{"version":3,"sources":["webpack:///./public/rotate/js/rotate.js"],"names":["designWidth","maxWidth","doc","document","win","window","docEl","documentElement","remStyle","createElement","tid","refreshRem","width","getBoundingClientRect","console","log","rem","innerHTML","firstElementChild","appendChild","wrap","write","addEventListener","clearTimeout","setTimeout","e","persisted","readyState","body","style","fontSize"],"mappings":";;;;;;;;;;;;AAAA,CAAC,CAAC,UAAUA,WAAV,EAAuBC,QAAvB,EAAiC;AAC/B,QAAIC,MAAMC,QAAV;AAAA,QACIC,MAAMC,MADV;AAAA,QAEIC,QAAQJ,IAAIK,eAFhB;AAAA,QAGIC,WAAWL,SAASM,aAAT,CAAuB,OAAvB,CAHf;AAAA,QAIIC,GAJJ;;AAMA;AACA,aAASC,UAAT,GAAsB;AAClB,YAAIC,QAAQN,MAAMO,qBAAN,GAA8BD,KAA1C;AACAE,gBAAQC,GAAR,CAAYH,KAAZ;AACAE,gBAAQC,GAAR,CAAYd,QAAZ;AACAA,mBAAWA,YAAY,GAAvB;AACAW,gBAAQX,QAAR,KAAqBW,QAAQX,QAA7B;AACA,YAAIe,MAAMJ,QAAQ,GAAR,GAAcZ,WAAxB;AACAQ,iBAASS,SAAT,GAAqB,oBAAoBD,GAApB,GAA0B,MAA/C;AACH;;AAED,QAAIV,MAAMY,iBAAV,EAA6B;AACzBZ,cAAMY,iBAAN,CAAwBC,WAAxB,CAAoCX,QAApC;AACH,KAFD,MAEO;AACH,YAAIY,OAAOlB,IAAIO,aAAJ,CAAkB,KAAlB,CAAX;AACAW,aAAKD,WAAL,CAAiBX,QAAjB;AACAN,YAAImB,KAAJ,CAAUD,KAAKH,SAAf;AACAG,eAAO,IAAP;AACH;AACD;AACAT;;AAEAP,QAAIkB,gBAAJ,CAAqB,QAArB,EAA+B,YAAY;AACvCC,qBAAab,GAAb,EADuC,CACpB;AACnBA,cAAMc,WAAWb,UAAX,EAAuB,GAAvB,CAAN;AACH,KAHD,EAGG,KAHH;;AAKAP,QAAIkB,gBAAJ,CAAqB,UAArB,EAAiC,UAAUG,CAAV,EAAa;AAC1C,YAAIA,EAAEC,SAAN,EAAiB;AAAE;AACfH,yBAAab,GAAb;AACAA,kBAAMc,WAAWb,UAAX,EAAuB,GAAvB,CAAN;AACH;AACJ,KALD,EAKG,KALH;;AAOA,QAAIT,IAAIyB,UAAJ,KAAmB,UAAvB,EAAmC;AAC/BzB,YAAI0B,IAAJ,CAASC,KAAT,CAAeC,QAAf,GAA0B,MAA1B;AACH,KAFD,MAEO;AACH5B,YAAIoB,gBAAJ,CAAqB,kBAArB,EAAyC,UAAUG,CAAV,EAAa;AAClDvB,gBAAI0B,IAAJ,CAASC,KAAT,CAAeC,QAAf,GAA0B,MAA1B;AACH,SAFD,EAEG,KAFH;AAGH;AACJ,CAhDA,EAgDE,GAhDF,EAgDO,GAhDP,E","file":"rotate.2db358033f517445cb7a.hot-update.js","sourcesContent":[";(function (designWidth, maxWidth) {\r\n    var doc = document,\r\n        win = window,\r\n        docEl = doc.documentElement,\r\n        remStyle = document.createElement(\"style\"),\r\n        tid;\r\n\r\n    //设置根元素的字体大小\r\n    function refreshRem() {\r\n        var width = docEl.getBoundingClientRect().width;\r\n        console.log(width)\r\n        console.log(maxWidth)\r\n        maxWidth = maxWidth || 540;\r\n        width > maxWidth && (width = maxWidth);\r\n        var rem = width * 100 / designWidth;\r\n        remStyle.innerHTML = 'html{font-size:' + rem + 'px;}';\r\n    }\r\n\r\n    if (docEl.firstElementChild) {\r\n        docEl.firstElementChild.appendChild(remStyle);\r\n    } else {\r\n        var wrap = doc.createElement(\"div\");\r\n        wrap.appendChild(remStyle);\r\n        doc.write(wrap.innerHTML);\r\n        wrap = null;\r\n    }\r\n    //要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；\r\n    refreshRem();\r\n\r\n    win.addEventListener(\"resize\", function () {\r\n        clearTimeout(tid); //防止执行两次\r\n        tid = setTimeout(refreshRem, 300);\r\n    }, false);\r\n\r\n    win.addEventListener(\"pageshow\", function (e) {\r\n        if (e.persisted) { // 浏览器后退的时候重新计算\r\n            clearTimeout(tid);\r\n            tid = setTimeout(refreshRem, 300);\r\n        }\r\n    }, false);\r\n\r\n    if (doc.readyState === \"complete\") {\r\n        doc.body.style.fontSize = \"16px\";\r\n    } else {\r\n        doc.addEventListener(\"DOMContentLoaded\", function (e) {\r\n            doc.body.style.fontSize = \"16px\";\r\n        }, false);\r\n    }\r\n})(720, 720);"],"sourceRoot":""}